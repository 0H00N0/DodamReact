/* SmartBoard.module.css
   - Tailwind 플러그인(line-clamp, typography)이 없어도 잘 보이도록 폴백 제공
   - 모달 오버레이/카드 등장 애니메이션
   - details/summary 아코디언 시각 개선
   - 입력 요소 포커스 링 개선 (라이트/다크)
*/

/* =============== 공통 색/테마 토큰 (선택적 활용) =============== */
:global(:root) {
  --sb-border: rgba(0,0,0,0.08);
  --sb-border-dark: rgba(255,255,255,0.16);
  --sb-muted: rgba(0,0,0,0.55);
  --sb-muted-dark: rgba(255,255,255,0.65);
  --sb-code-bg: #0b1220;
  --sb-code-text: #d1e7ff;
}

/* =============== line-clamp 폴백 (Tailwind plugin 없이 동작) =============== */
:global(.line-clamp-1),
:global(.line-clamp-2),
:global(.line-clamp-3),
:global(.line-clamp-4),
:global(.line-clamp-5),
:global(.line-clamp-6) {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
:global(.line-clamp-1) { -webkit-line-clamp: 1; }
:global(.line-clamp-2) { -webkit-line-clamp: 2; }
:global(.line-clamp-3) { -webkit-line-clamp: 3; }
:global(.line-clamp-4) { -webkit-line-clamp: 4; }
:global(.line-clamp-5) { -webkit-line-clamp: 5; }
:global(.line-clamp-6) { -webkit-line-clamp: 6; }

/* =============== prose 폴백 (Tailwind Typography 없을 때) =============== */
:global(.prose) {
  color: #111827;
  line-height: 1.7;
  font-size: 0.95rem;
  word-break: keep-all;
}
:global(.prose p + p) { margin-top: 0.75rem; }
:global(.prose h1),
:global(.prose h2),
:global(.prose h3),
:global(.prose h4) { font-weight: 700; line-height: 1.3; margin: 1rem 0 0.5rem; }
:global(.prose h1) { font-size: 1.6rem; }
:global(.prose h2) { font-size: 1.35rem; }
:global(.prose h3) { font-size: 1.15rem; }
:global(.prose a) { color: #2563eb; text-decoration: underline; text-underline-offset: 2px; }
:global(.prose ul),
:global(.prose ol) { padding-left: 1.2rem; margin: 0.5rem 0; }
:global(.prose li + li) { margin-top: 0.25rem; }
:global(.prose code) {
  background: rgba(0,0,0,0.05);
  border-radius: 6px;
  padding: 0.15rem 0.35rem;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 0.85em;
}
:global(.prose pre) {
  background: var(--sb-code-bg);
  color: var(--sb-code-text);
  border-radius: 12px;
  padding: 0.9rem 1rem;
  overflow: auto;
}
:global(.prose table) { width: 100%; border-collapse: collapse; margin: 0.5rem 0; }
:global(.prose th),
:global(.prose td) { border-bottom: 1px solid var(--sb-border); padding: 0.5rem 0.75rem; text-align: left; }

/* 다크 모드 반전 (prose-invert 대체) */
:global(.dark .prose) { color: #e5e7eb; }
:global(.dark .prose a) { color: #93c5fd; }
:global(.dark .prose code) { background: rgba(255,255,255,0.08); }
:global(.dark .prose th),
:global(.dark .prose td) { border-bottom: 1px solid var(--sb-border-dark); }

/* =============== details/summary(FAQ) 개선 =============== */
:global(details) { border-top: 1px solid var(--sb-border); }
:global(.dark details) { border-top: 1px solid var(--sb-border-dark); }
:global(details > summary) {
  list-style: none;
  cursor: pointer;
  position: relative;
  padding-right: 1.25rem; /* 접기/펼치기 아이콘 공간 */
  transition: background-color .15s ease;
}
:global(details > summary::-webkit-details-marker) { display: none; }
:global(details > summary::after) {
  content: "▾";
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%) rotate(0);
  transition: transform .2s ease;
  opacity: .7;
}
:global(details[open] > summary::after) { transform: translateY(-50%) rotate(180deg); }

/* =============== 모달 애니메이션 (PostDetailModal / PostEditorModal) =============== */
@keyframes sb-fade-in {
  from { opacity: 0; } to { opacity: 1; }
}
@keyframes sb-pop {
  from { transform: translateY(8px) scale(.98); opacity: 0; }
  to   { transform: translateY(0)   scale(1);    opacity: 1; }
}
/* 오버레이 페이드 */
:global(.fixed.inset-0.z-50) {
  animation: sb-fade-in .18s ease-out both;
}
/* 카드 살짝 떠오르는 느낌 */
:global(.fixed.inset-0.z-50 .rounded-2xl) {
  animation: sb-pop .18s ease-out both;
}

/* =============== 입력 요소 포커스 링 품질 개선 =============== */
:global(input),
:global(textarea),
:global(select) {
  outline: none;
  transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
}
:global(input:focus),
:global(textarea:focus),
:global(select:focus) {
  box-shadow: 0 0 0 3px rgba(0,0,0,0.05);
  border-color: rgba(0,0,0,0.28);
}
:global(.dark input:focus),
:global(.dark textarea:focus),
:global(.dark select:focus) {
  box-shadow: 0 0 0 3px rgba(255,255,255,0.12);
  border-color: rgba(255,255,255,0.38);
}

/* =============== 표 호버 부드럽게 =============== */
:global(table.min-w-full tbody tr) { transition: background-color .15s ease; }

/* =============== 보조 유틸 =============== */
/* 시각적 숨김 (접근성) */
.visuallyHidden {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}


/* ==========================================================================
   Premium Visual Upgrade (2025-10-17)
   - 목표: 기존 JSX 변경 없이, 현재 사용 중인 Tailwind 클래스 조합을 CSS로 강화
   - 적용 대상: 페이지 배경, 카드, 버튼, 입력, 테이블, 모달, 아코디언, 태그
   - 라이트/다크 모두 최적화
   ========================================================================== */

/* --------- 0) 테마 토큰 확장 --------- */
:global(:root) {
  --sb-primary: #6d5efc;
  --sb-primary-2: #9b5cf9;
  --sb-accent: #22c1c3;
  --sb-accent-2: #fdbb2d;
  --sb-glow: rgba(109, 94, 252, 0.25);
  --sb-glass: rgba(255,255,255,0.6);
  --sb-glass-dark: rgba(20,22,28,0.6);
  --sb-shadow-1: 0 10px 20px rgba(0,0,0,0.06), 0 2px 6px rgba(0,0,0,0.04);
  --sb-shadow-2: 0 16px 32px rgba(0,0,0,0.10), 0 4px 10px rgba(0,0,0,0.06);
  --sb-ring: 0 0 0 4px rgba(109, 94, 252, 0.18);
}

:global(.dark) {
  --sb-primary: #9aa2ff;
  --sb-primary-2: #c1b6ff;
  --sb-accent: #23b3c7;
  --sb-accent-2: #f7b84b;
  --sb-glow: rgba(154, 162, 255, 0.28);
  --sb-glass: rgba(255,255,255,0.06);
  --sb-glass-dark: rgba(17,18,22,0.65);
  --sb-shadow-1: 0 12px 24px rgba(0,0,0,0.35), 0 3px 10px rgba(0,0,0,0.25);
  --sb-shadow-2: 0 24px 48px rgba(0,0,0,0.50), 0 6px 16px rgba(0,0,0,0.35);
  --sb-ring: 0 0 0 4px rgba(154, 162, 255, 0.25);
}

/* --------- 1) 페이지 배경 개선 (기존 .min-h-screen 대상) --------- */
:global(.min-h-screen) {
  background-image:
    radial-gradient(1200px 600px at 10% 0%, rgba(34,193,195,0.10), transparent 60%),
    radial-gradient(800px 400px at 90% 10%, rgba(253,187,45,0.12), transparent 60%),
    linear-gradient(to bottom, #ffffff, #f8fafc);
}
:global(.dark .min-h-screen) {
  background-image:
    radial-gradient(1200px 600px at 10% 0%, rgba(154,162,255,0.11), transparent 60%),
    radial-gradient(800px 400px at 90% 10%, rgba(247,184,75,0.10), transparent 60%),
    linear-gradient(to bottom, #0b0e13, #0a0f1a);
}

/* 상단 헤더 박스(.rounded-3xl...) 유리(Glass) 스타일 */
:global(.rounded-3xl.border) {
  backdrop-filter: saturate(140%) blur(8px);
  box-shadow: var(--sb-shadow-1);
  border-color: rgba(0,0,0,0.08) !important;
}
:global(.dark .rounded-3xl.border) {
  background-color: var(--sb-glass-dark) !important;
  border-color: rgba(255,255,255,0.08) !important;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
}

/* --------- 2) 카드(리스트/그리드/FAQ/이벤트) 강화 --------- */
:global(.overflow-hidden.rounded-2xl.border),
:global(.divide-y.rounded-2xl.border),
:global(.rounded-2xl.border.bg-white),
:global(.rounded-2xl.border),
:global(.rounded-2xl.border.dark\\:bg-gray-900),
:global(.rounded-2xl.border) {
  transition: transform .25s ease, box-shadow .25s ease, border-color .2s ease, background-color .2s ease;
  box-shadow: var(--sb-shadow-1);
  position: relative;
}
:global(.overflow-hidden.rounded-2xl.border:hover),
:global(.divide-y.rounded-2xl.border:hover),
:global(.rounded-2xl.border:hover) {
  transform: translateY(-2px);
  box-shadow: var(--sb-shadow-2);
}
/* 카드 테두리-빛(hover) */
:global(.rounded-2xl.border:hover)::after {
  content: "";
  position: absolute; inset: 0;
  pointer-events: none;
  border-radius: 1rem; /* rounded-2xl */
  box-shadow: 0 0 0 1px rgba(109,94,252,0.35), 0 0 40px var(--sb-glow);
}

/* 카드 내 제목 강조 */
:global(.rounded-2xl.border .font-semibold),
:global(.rounded-2xl.border .font-bold) {
  letter-spacing: -0.01em;
}

/* --------- 3) 버튼(프라이머리/서브/고스트) --------- */
/* Primary: .rounded-xl.bg-gray-900 ... (다크에선 반전) */
:global(.rounded-xl.bg-gray-900) {
  background-image: linear-gradient(135deg, var(--sb-primary), var(--sb-primary-2));
  border: none !important;
  box-shadow: 0 8px 16px rgba(109,94,252,0.25);
  transition: transform .15s ease, box-shadow .15s ease, opacity .2s ease;
}
:global(.rounded-xl.bg-gray-900:hover) { transform: translateY(-1px); }
:global(.rounded-xl.bg-gray-900:active) { transform: translateY(0); box-shadow: 0 6px 12px rgba(109,94,252,0.22); }
:global(.dark .rounded-xl.bg-gray-900) {
  background-image: linear-gradient(135deg, #ffffff, #eaeaea);
  color: #0b0f19 !important;
}

/* Ghost: .rounded-xl.border ... */
:global(.rounded-xl.border) {
  transition: background-color .2s ease, border-color .2s ease, box-shadow .2s ease, transform .15s ease;
}
:global(.rounded-xl.border:hover) {
  background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.5));
  border-color: rgba(0,0,0,0.12) !important;
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);
  transform: translateY(-1px);
}
:global(.dark .rounded-xl.border:hover) {
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.12) !important;
  box-shadow: 0 10px 24px rgba(0,0,0,0.40);
}

/* 작은 배지형 버튼 (.rounded-xl.bg-gray-100 ...) */
:global(.rounded-xl.bg-gray-100) {
  background: linear-gradient(180deg, #f9fafb, #eef2f7);
  border: 1px solid rgba(0,0,0,0.06);
}
:global(.dark .rounded-xl.bg-gray-100) {
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.08);
}

/* --------- 4) 입력/폼 요소 --------- */
:global(input.rounded-xl),
:global(select.rounded-xl),
:global(textarea.rounded-xl) {
  transition: box-shadow .2s ease, border-color .2s ease, background-color .2s ease;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
}
:global(input.rounded-xl:focus),
:global(select.rounded-xl:focus),
:global(textarea.rounded-xl:focus) {
  border-color: var(--sb-primary) !important;
  box-shadow: var(--sb-ring);
  outline: none;
}
:global(textarea.rounded-xl) {
  background-image: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.75));
}
:global(.dark textarea.rounded-xl) {
  background-image: none;
  background-color: #0d1117;
}

/* --------- 5) 테이블 강화 --------- */
:global(table.min-w-full thead tr) {
  position: sticky; top: 0; z-index: 1;
  background: linear-gradient(180deg, #f8fafc, #f1f5f9);
}
:global(.dark table.min-w-full thead tr) {
  background: linear-gradient(180deg, #0e1217, #0c1117);
}
:global(table.min-w-full tbody tr) {
  transition: background-color .12s ease, transform .12s ease;
}
:global(table.min-w-full tbody tr:hover) {
  background-color: rgba(109,94,252,0.06);
}
:global(.dark table.min-w-full tbody tr:hover) {
  background-color: rgba(154, 162, 255, 0.08);
}
:global(table.min-w-full tbody td) {
  border-top: 1px solid rgba(0,0,0,0.04);
}
:global(.dark table.min-w-full tbody td) {
  border-top-color: rgba(255,255,255,0.06);
}

/* --------- 6) 태그/칩(공지/이벤트/FAQ 등에서 사용) --------- */
:global(.flex.flex-wrap.gap-1 > .rounded-full),
:global(.flex.flex-wrap.gap-1 > .rounded-xl) {
  transition: transform .12s ease, box-shadow .12s ease, background-color .2s ease;
}
:global(.flex.flex-wrap.gap-1 > .rounded-full:hover),
:global(.flex.flex-wrap.gap-1 > .rounded-xl:hover) {
  transform: translateY(-1px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.08);
}

/* --------- 7) 모달/오버레이 --------- */
:global(.fixed.inset-0.z-50) {
  backdrop-filter: blur(4px);
}
:global(.fixed.inset-0.z-50 .rounded-2xl.border) {
  animation: sbPop .25s ease;
  box-shadow: var(--sb-shadow-2);
  background-image: radial-gradient(150% 100% at 50% 0%, rgba(109,94,252,0.08), transparent 60%);
}
@keyframes sbPop {
  from { transform: translateY(6px) scale(.985); opacity: 0; }
  to   { transform: translateY(0)   scale(1);     opacity: 1; }
}

/* --------- 8) 아코디언(details/summary) --------- */
:global(details.group) {
  border-radius: 1rem;
  overflow: hidden;
}
:global(details.group summary) {
  display: flex; align-items: center; justify-content: space-between;
}
:global(details.group[open]) {
  box-shadow: var(--sb-shadow-1);
  background-color: rgba(109,94,252,0.04);
}
:global(.dark details.group[open]) {
  background-color: rgba(154,162,255,0.07);
}

/* --------- 9) 타이포그래피(가독성↑) --------- */
:global(.prose) {
  --tw-prose-headings: #0b0f19;
  --tw-prose-body: #111827;
  --tw-prose-bullets: #6b7280;
  --tw-prose-links: var(--sb-primary);
  letter-spacing: -0.005em;
}
:global(.dark .prose) {
  --tw-prose-headings: #e6e8ef;
  --tw-prose-body: #d1d5db;
  --tw-prose-bullets: #a3a3a3;
  --tw-prose-links: #b4baff;
}

/* --------- 10) 작은 인터랙션들 --------- */
/* 좋아요/뷰 아이콘들 */
:global(.flex.items-center.justify-between .text-xs.text-gray-500 svg) {
  transition: transform .12s ease, opacity .12s ease;
}
:global(.flex.items-center.justify-between .text-xs.text-gray-500 svg:hover) {
  transform: translateY(-1px);
  opacity: 0.9;
}
.tableReadable th {
  letter-spacing: 0.7em;
  word-spacing: 3.0em;
}
.tableReadable tr {
  line-height: 1.5em;
}
:global(.flex.items-center.justify-between .text-xs.text-gray-500 svg) {
  vertical-align: middle;  /* 아이콘과 텍스트 수직 정렬 */
  display: inline-block;   /* 인라인 요소처럼 정렬 */
  transition: transform .12s ease, opacity .12s ease;
}

